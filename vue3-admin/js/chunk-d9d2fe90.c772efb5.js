(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d9d2fe90"],{"1c2b":function(e,n,o){"use strict";o("709b")},"709b":function(e,n,o){},"862d":function(e,n,o){"use strict";(function(n,o){e.exports=o()})(0,(function(){function e(e){var t=[];return e.AMapUI&&t.push(n(e.AMapUI)),e.Loca&&t.push(o(e.Loca)),Promise.all(t)}function n(e){return new Promise((function(n,o){var r=[];if(e.plugins)for(var l=0;l<e.plugins.length;l+=1)-1==a.AMapUI.plugins.indexOf(e.plugins[l])&&r.push(e.plugins[l]);if(i.AMapUI===t.failed)o("前次请求 AMapUI 失败");else if(i.AMapUI===t.notload){i.AMapUI=t.loading,a.AMapUI.version=e.version||a.AMapUI.version,l=a.AMapUI.version;var p=document.body||document.head,s=document.createElement("script");s.type="text/javascript",s.src="https://webapi.amap.com/ui/"+l+"/main.js",s.onerror=function(e){i.AMapUI=t.failed,o("请求 AMapUI 失败")},s.onload=function(){if(i.AMapUI=t.loaded,r.length)window.AMapUI.loadUI(r,(function(){for(var e=0,o=r.length;e<o;e++){var t=r[e].split("/").slice(-1)[0];window.AMapUI[t]=arguments[e]}for(n();c.AMapUI.length;)c.AMapUI.splice(0,1)[0]()}));else for(n();c.AMapUI.length;)c.AMapUI.splice(0,1)[0]()},p.appendChild(s)}else i.AMapUI===t.loaded?e.version&&e.version!==a.AMapUI.version?o("不允许多个版本 AMapUI 混用"):r.length?window.AMapUI.loadUI(r,(function(){for(var e=0,o=r.length;e<o;e++){var t=r[e].split("/").slice(-1)[0];window.AMapUI[t]=arguments[e]}n()})):n():e.version&&e.version!==a.AMapUI.version?o("不允许多个版本 AMapUI 混用"):c.AMapUI.push((function(e){e?o(e):r.length?window.AMapUI.loadUI(r,(function(){for(var e=0,o=r.length;e<o;e++){var t=r[e].split("/").slice(-1)[0];window.AMapUI[t]=arguments[e]}n()})):n()}))}))}function o(e){return new Promise((function(n,o){if(i.Loca===t.failed)o("前次请求 Loca 失败");else if(i.Loca===t.notload){i.Loca=t.loading,a.Loca.version=e.version||a.Loca.version;var r=a.Loca.version,l=a.AMap.version.startsWith("2"),p=r.startsWith("2");if(l&&!p||!l&&p)o("JSAPI 与 Loca 版本不对应！！");else{l=a.key,p=document.body||document.head;var s=document.createElement("script");s.type="text/javascript",s.src="https://webapi.amap.com/loca?v="+r+"&key="+l,s.onerror=function(e){i.Loca=t.failed,o("请求 AMapUI 失败")},s.onload=function(){for(i.Loca=t.loaded,n();c.Loca.length;)c.Loca.splice(0,1)[0]()},p.appendChild(s)}}else i.Loca===t.loaded?e.version&&e.version!==a.Loca.version?o("不允许多个版本 Loca 混用"):n():e.version&&e.version!==a.Loca.version?o("不允许多个版本 Loca 混用"):c.Loca.push((function(e){e?o(e):o()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var t;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(t||(t={}));var a={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:t.notload,AMapUI:t.notload,Loca:t.notload},c={AMap:[],AMapUI:[],Loca:[]},r=[],l=function(e){"function"==typeof e&&(i.AMap===t.loaded?e(window.AMap):r.push(e))};return{load:function(n){return new Promise((function(o,c){if(i.AMap==t.failed)c("");else if(i.AMap==t.notload){var p=n.key,s=n.version,u=n.plugins;p?(window.AMap&&"lbs.amap.com"!==location.host&&c("禁止多种API加载方式混用"),a.key=p,a.AMap.version=s||a.AMap.version,a.AMap.plugins=u||a.AMap.plugins,i.AMap=t.loading,s=document.body||document.head,window.___onAPILoaded=function(a){if(delete window.___onAPILoaded,a)i.AMap=t.failed,c(a);else for(i.AMap=t.loaded,e(n).then((function(){o(window.AMap)}))["catch"](c);r.length;)r.splice(0,1)[0]()},u=document.createElement("script"),u.type="text/javascript",u.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+a.AMap.version+"&key="+p+"&plugin="+a.AMap.plugins.join(","),u.onerror=function(e){i.AMap=t.failed,c(e)},s.appendChild(u)):c("请填写key")}else if(i.AMap==t.loaded)if(n.key&&n.key!==a.key)c("多个不一致的 key");else if(n.version&&n.version!==a.AMap.version)c("不允许多个版本 JSAPI 混用");else{if(p=[],n.plugins)for(s=0;s<n.plugins.length;s+=1)-1==a.AMap.plugins.indexOf(n.plugins[s])&&p.push(n.plugins[s]);p.length?window.AMap.plugin(p,(function(){e(n).then((function(){o(window.AMap)}))["catch"](c)})):e(n).then((function(){o(window.AMap)}))["catch"](c)}else if(n.key&&n.key!==a.key)c("多个不一致的 key");else if(n.version&&n.version!==a.AMap.version)c("不允许多个版本 JSAPI 混用");else{var d=[];if(n.plugins)for(s=0;s<n.plugins.length;s+=1)-1==a.AMap.plugins.indexOf(n.plugins[s])&&d.push(n.plugins[s]);l((function(){d.length?window.AMap.plugin(d,(function(){e(n).then((function(){o(window.AMap)}))["catch"](c)})):e(n).then((function(){o(window.AMap)}))["catch"](c)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,a={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:t.notload,AMapUI:t.notload,Loca:t.notload},c={AMap:[],AMapUI:[],Loca:[]}}}}))},"8e56":function(e,n,o){"use strict";o.r(n);var t=o("7a23"),a=function(e){return Object(t["pushScopeId"])("data-v-22613fcb"),e=e(),Object(t["popScopeId"])(),e},i=a((function(){return Object(t["createElementVNode"])("p",null," 高德地图的调用，主要在于自定义信息窗体的实现，vue3 因为删除了 extends 这个方法，因此实现上有点区别，具体请查看源码 ",-1)})),c=a((function(){return Object(t["createElementVNode"])("div",{id:"amap",class:"amap"},null,-1)})),r=Object(t["createTextVNode"])("改变昵称");function l(e,n,o,a,l,p){var s=Object(t["resolveComponent"])("a-button");return Object(t["openBlock"])(),Object(t["createElementBlock"])("div",null,[i,c,Object(t["createVNode"])(s,{onClick:e.clickChange},{default:Object(t["withCtx"])((function(){return[r]})),_:1},8,["onClick"])])}var p=o("0613"),s=(o("d3b7"),o("862d")),u=o.n(s),d=o("6c02"),f=o("45d6");function v(e,n,o,a,i,c){var r=Object(t["resolveComponent"])("close-outlined"),l=Object(t["resolveComponent"])("a-button"),p=Object(t["resolveComponent"])("a-card");return Object(t["openBlock"])(),Object(t["createBlock"])(p,{title:"这是信息窗体",style:{width:"300px"}},{extra:Object(t["withCtx"])((function(){return[Object(t["createVNode"])(l,{type:"text",danger:"",onClick:e.toggleCard},{icon:Object(t["withCtx"])((function(){return[Object(t["createVNode"])(r)]})),_:1},8,["onClick"])]})),default:Object(t["withCtx"])((function(){return[Object(t["createElementVNode"])("p",null,Object(t["toDisplayString"])(e.firstName),1),Object(t["createElementVNode"])("p",null,Object(t["toDisplayString"])(e.lastName),1),Object(t["createElementVNode"])("p",null,Object(t["toDisplayString"])(e.alias),1),Object(t["createElementVNode"])("p",null,"昵称："+Object(t["toDisplayString"])(e.nickname),1)]})),_:1})}var A=o("a878"),M=Object(t["defineComponent"])({name:"InfoWindow",components:{CloseOutlined:A["a"]},props:["firstName","lastName","alias","getInfoWindow"],setup:function(e){var n=Object(p["c"])(),o=function(){var n=e.getInfoWindow();n.close()};return{toggleCard:o,nickname:Object(t["computed"])((function(){return n.getters["userState/nickname"]}))}}}),w=o("6b0d"),m=o.n(w);const g=m()(M,[["render",v]]);var h=g;function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(t["createApp"])(h,e),o=document.createElement("div");n.use(p["a"],p["b"]).use(f["a"]);var a=n.mount(o);return a.$el}var I=b;function j(e){var n=[116.401337,39.907886],o=Object(t["ref"])(null),a=null,i=null,c=!1,r=function(e){i=new e.InfoWindow({anchor:"top-left",isCustom:!0,content:I({firstName:"walter",lastName:"white",alias:"heisenberg",getInfoWindow:function(){return i}})}),i.open(o.value,n)},l=function(t){o.value=new t.Map("amap",e),a=new t.Marker({position:n,map:o.value}),a.on("click",(function(){i.open(o.value,n)})),r(t)},p=function(){c||(c=!0,window._AMapSecurityConfig={securityJsCode:"1ce560052f5de747fde072c5d56cc139"},u.a.load({key:"fbc9756a8fa8eed439c3818ff2b6300c",version:"2.0",plugins:[],AMapUI:{version:"1.1",plugins:["overlay/SimpleMarker"]},Loca:{version:"2.0"}}).then((function(e){return l(e)})).catch((function(e){return console.log(e)})).finally((function(){c=!1})))},s=function(){o.value.destroy(),o.value=null};return Object(t["onMounted"])((function(){p()})),Object(d["c"])((function(){s()})),{amap:o,amapInit:p}}var O=Object(t["defineComponent"])({name:"Amap",setup:function(){var e=Object(p["c"])(),n=j({zoom:11,center:[116.397428,39.90923],viewMode:"3D"}),o=n.amap,t=n.amapInit,a=function(){var n=["凌大","唐二","张三","李四","王五","朱六","卓七"][Math.floor(6*Math.random())];e.dispatch("userState/changeNickname",n)};return{amap:o,amapInit:t,clickChange:a}},beforeRouteEnter:function(e,n,o){o((function(e){e.amapInit()}))}});o("1c2b");const U=m()(O,[["render",l],["__scopeId","data-v-22613fcb"]]);n["default"]=U}}]);