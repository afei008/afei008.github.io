import{a as t,i as n,b as r,d as e,e as i}from"./transform-78bf2321.js";import{i as a}from"./init-cf76ae07.js";function o(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function u(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function c(t){let n,r,e;function i(t,e,i=0,a=t.length){if(i<a){if(0!==n(e,e))return a;do{const n=i+a>>>1;r(t[n],e)<0?i=n+1:a=n}while(i<a)}return i}return 2!==t.length?(n=o,r=(n,r)=>o(t(n),r),e=(n,r)=>t(n)-r):(n=t===o||t===u?t:l,r=t,e=t),{left:i,center:function(t,n,r=0,a=t.length){const o=i(t,n,r,a-1);return o>r&&e(t[o-1],n)>-e(t[o],n)?o-1:o},right:function(t,e,i=0,a=t.length){if(i<a){if(0!==n(e,e))return a;do{const n=i+a>>>1;r(t[n],e)<=0?i=n+1:a=n}while(i<a)}return i}}}function l(){return 0}const s=c(o).right;c((function(t){return null===t?NaN:+t})).center;const f=s,h=Math.sqrt(50),m=Math.sqrt(10),g=Math.sqrt(2);function d(t,n,r){const e=(n-t)/Math.max(0,r),i=Math.floor(Math.log10(e)),a=e/Math.pow(10,i),o=a>=h?10:a>=m?5:a>=g?2:1;let u,c,l;return i<0?(l=Math.pow(10,-i)/o,u=Math.round(t*l),c=Math.round(n*l),u/l<t&&++u,c/l>n&&--c,l=-l):(l=Math.pow(10,i)*o,u=Math.round(t/l),c=Math.round(n/l),u*l<t&&++u,c*l>n&&--c),c<u&&.5<=r&&r<2?d(t,n,2*r):[u,c,l]}function p(t,n,r){return d(t=+t,n=+n,r=+r)[2]}function M(t,n,r){r=+r;const e=(n=+n)<(t=+t),i=e?p(n,t,r):p(t,n,r);return(e?-1:1)*(i<0?1/-i:i)}function v(t){return t}function y(t){return"translate("+t+",0)"}function w(t){return"translate(0,"+t+")"}function x(t){return n=>+t(n)}function b(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),r=>+t(r)+n}function k(){return!this.__axis}function N(t,n){var r=[],e=null,i=null,a=6,o=6,u=3,c="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,l=1===t||4===t?-1:1,s=4===t||2===t?"x":"y",f=1===t||3===t?y:w;function h(h){var m=null==e?n.ticks?n.ticks.apply(n,r):n.domain():e,g=null==i?n.tickFormat?n.tickFormat.apply(n,r):v:i,d=Math.max(a,0)+u,p=n.range(),M=+p[0]+c,y=+p[p.length-1]+c,w=(n.bandwidth?b:x)(n.copy(),c),N=h.selection?h.selection():h,A=N.selectAll(".domain").data([null]),S=N.selectAll(".tick").data(m,n).order(),z=S.exit(),j=S.enter().append("g").attr("class","tick"),F=S.select("line"),V=S.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(j),F=F.merge(j.append("line").attr("stroke","currentColor").attr(s+"2",l*a)),V=V.merge(j.append("text").attr("fill","currentColor").attr(s,l*d).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==N&&(A=A.transition(h),S=S.transition(h),F=F.transition(h),V=V.transition(h),z=z.transition(h).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=w(t))?f(t+c):this.getAttribute("transform")})),j.attr("opacity",1e-6).attr("transform",(function(t){var n=this.parentNode.__axis;return f((n&&isFinite(n=n(t))?n:w(t))+c)}))),z.remove(),A.attr("d",4===t||2===t?o?"M"+l*o+","+M+"H"+c+"V"+y+"H"+l*o:"M"+c+","+M+"V"+y:o?"M"+M+","+l*o+"V"+c+"H"+y+"V"+l*o:"M"+M+","+c+"H"+y),S.attr("opacity",1).attr("transform",(function(t){return f(w(t)+c)})),F.attr(s+"2",l*a),V.attr(s,l*d).text(g),N.filter(k).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),N.each((function(){this.__axis=w}))}return h.scale=function(t){return arguments.length?(n=t,h):n},h.ticks=function(){return r=Array.from(arguments),h},h.tickArguments=function(t){return arguments.length?(r=null==t?[]:Array.from(t),h):r.slice()},h.tickValues=function(t){return arguments.length?(e=null==t?null:Array.from(t),h):e&&e.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(a=o=+t,h):a},h.tickSizeInner=function(t){return arguments.length?(a=+t,h):a},h.tickSizeOuter=function(t){return arguments.length?(o=+t,h):o},h.tickPadding=function(t){return arguments.length?(u=+t,h):u},h.offset=function(t){return arguments.length?(c=+t,h):c},h}function A(t){return N(3,t)}function S(t){return N(4,t)}function z(t,n){n||(n=[]);var r,e=t?Math.min(n.length,t.length):0,i=n.slice();return function(a){for(r=0;r<e;++r)i[r]=t[r]*(1-a)+n[r]*a;return i}}function j(t,n){var r,e=n?n.length:0,i=t?Math.min(e,t.length):0,a=new Array(i),o=new Array(e);for(r=0;r<i;++r)a[r]=C(t[r],n[r]);for(;r<e;++r)o[r]=n[r];return function(t){for(r=0;r<i;++r)o[r]=a[r](t);return o}}function F(t,n){var r=new Date;return t=+t,n=+n,function(e){return r.setTime(t*(1-e)+n*e),r}}function V(t,n){var r,e={},i={};for(r in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)r in t?e[r]=C(t[r],n[r]):i[r]=n[r];return function(t){for(r in e)i[r]=e[r](t);return i}}function C(a,o){var u,c,l=typeof o;return null==o||"boolean"===l?t(o):("number"===l?n:"string"===l?(u=r(o))?(o=u,e):i:o instanceof r?e:o instanceof Date?F:(c=o,!ArrayBuffer.isView(c)||c instanceof DataView?Array.isArray(o)?j:"function"!=typeof o.valueOf&&"function"!=typeof o.toString||isNaN(o)?V:n:z))(a,o)}function P(t,n){return t=+t,n=+n,function(r){return Math.round(t*(1-r)+n*r)}}function _(t,n){if((r=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var r,e=t.slice(0,r);return[e.length>1?e[0]+e.slice(2):e,+t.slice(r+1)]}function E(t){return(t=_(Math.abs(t)))?t[1]:NaN}var $,H=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function q(t){if(!(n=H.exec(t)))throw new Error("invalid format: "+t);var n;return new D({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function D(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function O(t,n){var r=_(t,n);if(!r)return t+"";var e=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+e:e.length>i+1?e.slice(0,i+1)+"."+e.slice(i+1):e+new Array(i-e.length+2).join("0")}q.prototype=D.prototype,D.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const L={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>O(100*t,n),r:O,s:function(t,n){var r=_(t,n);if(!r)return t+"";var e=r[0],i=r[1],a=i-($=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=e.length;return a===o?e:a>o?e+new Array(a-o+1).join("0"):a>0?e.slice(0,a)+"."+e.slice(a):"0."+new Array(1-a).join("0")+_(t,Math.max(0,n+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function R(t){return t}var T,X,B,G=Array.prototype.map,I=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function U(t){var n,r,e=void 0===t.grouping||void 0===t.thousands?R:(n=G.call(t.grouping,Number),r=t.thousands+"",function(t,e){for(var i=t.length,a=[],o=0,u=n[0],c=0;i>0&&u>0&&(c+u+1>e&&(u=Math.max(1,e-c)),a.push(t.substring(i-=u,i+u)),!((c+=u+1)>e));)u=n[o=(o+1)%n.length];return a.reverse().join(r)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?R:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(G.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"−":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=q(t)).fill,r=t.align,f=t.sign,h=t.symbol,m=t.zero,g=t.width,d=t.comma,p=t.precision,M=t.trim,v=t.type;"n"===v?(d=!0,v="g"):L[v]||(void 0===p&&(p=12),M=!0,v="g"),(m||"0"===n&&"="===r)&&(m=!0,n="0",r="=");var y="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===h?a:/[%p]/.test(v)?c:"",x=L[v],b=/[defgprs%]/.test(v);function k(t){var i,a,c,h=y,k=w;if("c"===v)k=x(t)+k,t="";else{var N=(t=+t)<0||1/t<0;if(t=isNaN(t)?s:x(Math.abs(t),p),M&&(t=function(t){t:for(var n,r=t.length,e=1,i=-1;e<r;++e)switch(t[e]){case".":i=n=e;break;case"0":0===i&&(i=e),n=e;break;default:if(!+t[e])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),N&&0==+t&&"+"!==f&&(N=!1),h=(N?"("===f?f:l:"-"===f||"("===f?"":f)+h,k=("s"===v?I[8+$/3]:"")+k+(N&&"("===f?")":""),b)for(i=-1,a=t.length;++i<a;)if(48>(c=t.charCodeAt(i))||c>57){k=(46===c?o+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}d&&!m&&(t=e(t,1/0));var A=h.length+t.length+k.length,S=A<g?new Array(g-A+1).join(n):"";switch(d&&m&&(t=e(S+t,S.length?g-k.length:1/0),S=""),r){case"<":t=h+t+k+S;break;case"=":t=h+S+t+k;break;case"^":t=S.slice(0,A=S.length>>1)+h+t+k+S.slice(A);break;default:t=S+h+t+k}return u(t)}return p=void 0===p?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),k.toString=function(){return t+""},k}return{format:f,formatPrefix:function(t,n){var r=f(((t=q(t)).type="f",t)),e=3*Math.max(-8,Math.min(8,Math.floor(E(n)/3))),i=Math.pow(10,-e),a=I[8+e/3];return function(t){return r(i*t)+a}}}}function Y(t){return+t}T=U({thousands:",",grouping:[3],currency:["$",""]}),X=T.format,B=T.formatPrefix;var Z=[0,1];function J(t){return t}function K(t,n){return(n-=t=+t)?function(r){return(r-t)/n}:(r=isNaN(n)?NaN:.5,function(){return r});var r}function Q(t,n,r){var e=t[0],i=t[1],a=n[0],o=n[1];return i<e?(e=K(i,e),a=r(o,a)):(e=K(e,i),a=r(a,o)),function(t){return a(e(t))}}function W(t,n,r){var e=Math.min(t.length,n.length)-1,i=new Array(e),a=new Array(e),o=-1;for(t[e]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<e;)i[o]=K(t[o],t[o+1]),a[o]=r(n[o],n[o+1]);return function(n){var r=f(t,n,1,e)-1;return a[r](i[r](n))}}function tt(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function nt(){var t,r,e,i,a,o,u=Z,c=Z,l=C,s=J;function f(){var t,n,r,e=Math.min(u.length,c.length);return s!==J&&(t=u[0],n=u[e-1],t>n&&(r=t,t=n,n=r),s=function(r){return Math.max(t,Math.min(n,r))}),i=e>2?W:Q,a=o=null,h}function h(n){return null==n||isNaN(n=+n)?e:(a||(a=i(u.map(t),c,l)))(t(s(n)))}return h.invert=function(e){return s(r((o||(o=i(c,u.map(t),n)))(e)))},h.domain=function(t){return arguments.length?(u=Array.from(t,Y),f()):u.slice()},h.range=function(t){return arguments.length?(c=Array.from(t),f()):c.slice()},h.rangeRound=function(t){return c=Array.from(t),l=P,f()},h.clamp=function(t){return arguments.length?(s=!!t||J,f()):s!==J},h.interpolate=function(t){return arguments.length?(l=t,f()):l},h.unknown=function(t){return arguments.length?(e=t,h):e},function(n,e){return t=n,r=e,f()}}function rt(){return nt()(J,J)}function et(t,n,r,e){var i,a=M(t,n,r);switch((e=q(null==e?",f":e)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(n));return null!=e.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(E(n)/3)))-E(Math.abs(t)))}(a,o))||(e.precision=i),B(e,o);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,E(n)-E(t))+1}(a,Math.max(Math.abs(t),Math.abs(n))))||(e.precision=i-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(i=function(t){return Math.max(0,-E(Math.abs(t)))}(a))||(e.precision=i-2*("%"===e.type))}return X(e)}function it(t){var n=t.domain;return t.ticks=function(t){var r=n();return function(t,n,r){if(!((r=+r)>0))return[];if((t=+t)==(n=+n))return[t];const e=n<t,[i,a,o]=e?d(n,t,r):d(t,n,r);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(e)if(o<0)for(let l=0;l<u;++l)c[l]=(a-l)/-o;else for(let l=0;l<u;++l)c[l]=(a-l)*o;else if(o<0)for(let l=0;l<u;++l)c[l]=(i+l)/-o;else for(let l=0;l<u;++l)c[l]=(i+l)*o;return c}(r[0],r[r.length-1],null==t?10:t)},t.tickFormat=function(t,r){var e=n();return et(e[0],e[e.length-1],null==t?10:t,r)},t.nice=function(r){null==r&&(r=10);var e,i,a=n(),o=0,u=a.length-1,c=a[o],l=a[u],s=10;for(l<c&&(i=c,c=l,l=i,i=o,o=u,u=i);s-- >0;){if((i=p(c,l,r))===e)return a[o]=c,a[u]=l,n(a);if(i>0)c=Math.floor(c/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,l=Math.floor(l*i)/i}e=i}return t},t}function at(){var t=rt();return t.copy=function(){return tt(t,at())},a.apply(t,arguments),it(t)}export{A as a,S as b,c,rt as d,tt as e,X as f,C as i,at as l,M as t};
