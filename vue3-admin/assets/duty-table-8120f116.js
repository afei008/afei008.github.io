/* empty css              */import{u as e}from"./usePager-79dc6446.js";/* empty css              *//* empty css              */import{u as a}from"./useCurrentInstance-b8780371.js";import{r as l,w as s,o as t,H as i,k as o,e as n,d as r,Q as p,R as g,Z as u,f as d,U as c,F as f,E as v,aj as m,$ as y,_ as k,a0 as w,S as b,W as C,a2 as S,ae as x,af as _}from"./vue-c27573a7.js";import{_ as z}from"./plugin-vueexport-helper-1b428a4d.js";import{B as L,S as h,o as j,p as P}from"./antd-dee7649b.js";const M=r({name:"DutyTable",setup(){const r=o({}),p=o([]),g=o({pageNum:1,pageSize:10}),{isLoading:u,dutyList:d,pages:c}=function(e){const{proxy:o}=a(),n=l({isLoading:!1,dutyList:[],pages:{pageNum:1,pageSize:10,total:0}}),r=async()=>{n.isLoading=!0;const a=await o.$api.dutyList(e.value);n.dutyList=a.data.records,n.pages.total=a.data.total,n.isLoading=!1};return s(e,(()=>{n.pages.pageNum=e.value.pageNum,n.pages.pageSize=e.value.pageSize,r()}),{deep:!0}),t(r),{...i(n),getDutyList:r}}(g),{gridOptions:f}=function(e){const a=o([{type:"checkbox",width:50},{type:"seq",width:50},{field:"level1Proportion",title:"一级职责清单及权重占比"},{field:"level2Proportion",title:"二级职责清单及权重占比"},{field:"level3Table",title:"三级职责清单",editRender:{name:"input"}},{field:"level3Request",title:"三级职责清单履职要求"},{field:"label",title:"职责标签",width:300,slots:{default:"label"}},{field:"basis",title:"履职依据",width:300,slots:{default:"basis"}},{field:"level",title:"责任等级"},{field:"function",title:"评价方法"}]),l=[{row:0,col:2,rowspan:10,colspan:0},{row:0,col:3,rowspan:10,colspan:0},{row:0,col:4,rowspan:2,colspan:0},{row:2,col:4,rowspan:3,colspan:0},{row:5,col:4,rowspan:3,colspan:0},{row:0,col:7,rowspan:10,colspan:0},{row:0,col:8,rowspan:4,colspan:0}];return{gridOptions:n((()=>({border:!0,columns:a.value,data:e.value,mergeCells:l,mouseConfig:{selected:!0},keyboardConfig:{isArrow:!0,isEnter:!0},editConfig:{trigger:"click",mode:"cell",showStatus:!0}})))}}(d),{page:v}=e(c,(e=>{g.value.pageNum=e.pageNum,g.value.pageSize=e.pageSize})),m=()=>{p.value=r.value.getMergeCells()};return{grid:r,isLoading:u,gridOptions:f,page:v,clickGetMerge:m,clickMerge:()=>{r.value.setMergeCells({row:5,col:8,rowspan:3,colspan:0})},clickSplit:()=>{m(),p.value.pop(),r.value.clearMergeCells(),r.value.setMergeCells(p.value)}}}}),N=(e=>(x("data-v-da5cccfd"),e=e(),_(),e))((()=>k("span",null,"关注责任等级一列",-1))),O={class:"origin"},R={class:"labels flex"},U={key:0,class:"flex column"},q={key:1,class:"flex column"},D={key:2,class:"flex column"},E={key:1};const I=z(M,[["render",function(e,a,l,s,t,i){const o=L,n=j,r=P,x=p("vxe-pager"),_=p("vxe-grid"),z=h;return g(),u(f,null,[d(o,{onClick:e.clickMerge},{default:c((()=>[v("合并")])),_:1},8,["onClick"]),d(o,{onClick:e.clickSplit},{default:c((()=>[v("拆分")])),_:1},8,["onClick"]),N,d(z,{spinning:e.isLoading},{default:c((()=>[d(_,m({ref:"grid"},e.gridOptions),{label:c((({row:e})=>[(g(!0),u(f,null,y(e.label,(e=>(g(),u("div",{key:e.id,class:"flex"},[k("div",O,w(e.origin),1),k("div",R,[e.label1?(g(),u("div",U,[(g(!0),u(f,null,y(e.label1,(e=>(g(),b(n,{key:e.id,color:"pink"},{default:c((()=>[v(w(e.str),1)])),_:2},1024)))),128))])):C("",!0),e.label2?(g(),u("div",q,[(g(!0),u(f,null,y(e.label2,(e=>(g(),b(n,{key:e.id,color:"pink"},{default:c((()=>[v(w(e.str),1)])),_:2},1024)))),128))])):C("",!0),e.label3?(g(),u("div",D,[(g(!0),u(f,null,y(e.label3,(e=>(g(),b(n,{key:e.id,color:"pink"},{default:c((()=>[v(w(e.str),1)])),_:2},1024)))),128))])):C("",!0)])])))),128))])),basis:c((({row:e})=>[(g(!0),u(f,null,y(e.basis,(e=>(g(),u("p",{key:e.id},[1===e.type||2===e.type?(g(),b(r,{key:0},{title:c((()=>[v(w(e.old),1)])),default:c((()=>[k("span",{class:S({blue:1===e.type,green:2===e.type})},w(e.str),3)])),_:2},1024)):(g(),u("span",E,w(e.str),1))])))),128))])),pager:c((()=>[d(x,{"current-page":e.page.currentPage,"onUpdate:currentPage":a[0]||(a[0]=a=>e.page.currentPage=a),"page-size":e.page.pageSize,"onUpdate:pageSize":a[1]||(a[1]=a=>e.page.pageSize=a),background:"",total:e.page.totalResult,layouts:e.page.layouts,onPageChange:e.page.pageChange},null,8,["current-page","page-size","total","layouts","onPageChange"])])),_:1},16)])),_:1},8,["spinning"])],64)}],["__scopeId","data-v-da5cccfd"]]);export{I as default};
