import{_ as e}from"./index.1351dcf1.js";import{u as a}from"./usePager.09aae911.js";/* empty css               *//* empty css               */import{u as l}from"./useCurrentInstance.87714743.js";import{r as s,w as t,o as i,H as o,k as n,e as r,d as p,S as d,U as g,a1 as u,f as c,W as f,F as v,ag as y,a3 as k,a2 as m,a4 as w,V as b,E as C,_ as x,a6 as S,ad as _,ae as z}from"./vue.3a1c5826.js";import{B as L,S as h,o as j,p as M}from"./antd.e0f179d3.js";const P=p({name:"DutyTable",setup(){const e=n({}),p=n([]),d=n({pageNum:1,pageSize:10}),{isLoading:g,dutyList:u,pages:c}=function(e){const{proxy:a}=l(),n=s({isLoading:!1,dutyList:[],pages:{pageNum:1,pageSize:10,total:0}}),r=async()=>{n.isLoading=!0;const l=await a.$api.dutyList(e.value);n.dutyList=l.data.records,n.pages.total=l.data.total,n.isLoading=!1};return t(e,(()=>{n.pages.pageNum=e.value.pageNum,n.pages.pageSize=e.value.pageSize,r()}),{deep:!0}),i(r),{...o(n),getDutyList:r}}(d),{gridOptions:f}=function(e){const a=n([{type:"checkbox",width:50},{type:"seq",width:50},{field:"level1Proportion",title:"一级职责清单及权重占比"},{field:"level2Proportion",title:"二级职责清单及权重占比"},{field:"level3Table",title:"三级职责清单",editRender:{name:"input"}},{field:"level3Request",title:"三级职责清单履职要求"},{field:"label",title:"职责标签",width:300,slots:{default:"label"}},{field:"basis",title:"履职依据",width:300,slots:{default:"basis"}},{field:"level",title:"责任等级"},{field:"function",title:"评价方法"}]),l=[{row:0,col:2,rowspan:10,colspan:0},{row:0,col:3,rowspan:10,colspan:0},{row:0,col:4,rowspan:2,colspan:0},{row:2,col:4,rowspan:3,colspan:0},{row:5,col:4,rowspan:3,colspan:0},{row:0,col:7,rowspan:10,colspan:0},{row:0,col:8,rowspan:4,colspan:0}];return{gridOptions:r((()=>({border:!0,columns:a.value,data:e.value,mergeCells:l,mouseConfig:{selected:!0},keyboardConfig:{isArrow:!0,isEnter:!0},editConfig:{trigger:"click",mode:"cell",showStatus:!0}})))}}(u),{page:v}=a(c,(e=>{d.value.pageNum=e.pageNum,d.value.pageSize=e.pageSize})),y=()=>{p.value=e.value.getMergeCells()};return{grid:e,isLoading:g,gridOptions:f,page:v,clickGetMerge:y,clickMerge:()=>{e.value.setMergeCells({row:5,col:8,rowspan:3,colspan:0})},clickSplit:()=>{y(),p.value.pop(),e.value.clearMergeCells(),e.value.setMergeCells(p.value)}}}}),N=e=>(_("data-v-76197b6d"),e=e(),z(),e),O=C("合并"),R=C("拆分"),U=N((()=>m("span",null,"关注责任等级一列",-1))),q={class:"origin"},D={class:"labels flex"},E={key:0,class:"flex column"},I={key:1,class:"flex column"},T={key:2,class:"flex column"},A={key:1};const B=e(P,[["render",function(e,a,l,s,t,i){const o=L,n=j,r=M,p=d("vxe-pager"),_=d("vxe-grid"),z=h;return g(),u(v,null,[c(o,{onClick:e.clickMerge},{default:f((()=>[O])),_:1},8,["onClick"]),c(o,{onClick:e.clickSplit},{default:f((()=>[R])),_:1},8,["onClick"]),U,c(z,{spinning:e.isLoading},{default:f((()=>[c(_,y({ref:"grid"},e.gridOptions),{label:f((({row:e})=>[(g(!0),u(v,null,k(e.label,(e=>(g(),u("div",{key:e.id,class:"flex"},[m("div",q,w(e.origin),1),m("div",D,[e.label1?(g(),u("div",E,[(g(!0),u(v,null,k(e.label1,(e=>(g(),b(n,{color:"pink",key:e.id},{default:f((()=>[C(w(e.str),1)])),_:2},1024)))),128))])):x("",!0),e.label2?(g(),u("div",I,[(g(!0),u(v,null,k(e.label2,(e=>(g(),b(n,{color:"pink",key:e.id},{default:f((()=>[C(w(e.str),1)])),_:2},1024)))),128))])):x("",!0),e.label3?(g(),u("div",T,[(g(!0),u(v,null,k(e.label3,(e=>(g(),b(n,{color:"pink",key:e.id},{default:f((()=>[C(w(e.str),1)])),_:2},1024)))),128))])):x("",!0)])])))),128))])),basis:f((({row:e})=>[(g(!0),u(v,null,k(e.basis,(e=>(g(),u("p",{key:e.id},[1===e.type||2===e.type?(g(),b(r,{key:0},{title:f((()=>[C(w(e.old),1)])),default:f((()=>[m("span",{class:S({blue:1===e.type,green:2===e.type})},w(e.str),3)])),_:2},1024)):(g(),u("span",A,w(e.str),1))])))),128))])),pager:f((()=>[c(p,{background:"","current-page":e.page.currentPage,"onUpdate:current-page":a[0]||(a[0]=a=>e.page.currentPage=a),"page-size":e.page.pageSize,"onUpdate:page-size":a[1]||(a[1]=a=>e.page.pageSize=a),total:e.page.totalResult,onPageChange:e.page.pageChange,layouts:e.page.layouts},null,8,["current-page","page-size","total","onPageChange","layouts"])])),_:1},16)])),_:1},8,["spinning"])],64)}],["__scopeId","data-v-76197b6d"]]);export{B as default};
