/* empty css              */import{u as e}from"./usePager-6606ae70.js";/* empty css              *//* empty css              */import{a}from"./index-d70d067a.js";import{r as l,w as s,o as t,H as i,k as o,e as n,d as r,Z as p,S as d,a1 as g,f as u,W as c,F as f,E as v,ak as m,a2 as k,Y as y,a3 as w,U as b,_ as C,a5 as x,af as S,ag as _}from"./vue-8d5f356c.js";import{_ as z}from"./plugin-vueexport-helper-1b428a4d.js";import{a7 as L,am as h,al as j,an as P}from"./antd-ca98a620.js";import"./request-93d71c74.js";const M=r({name:"DutyTable",setup(){const r=o({}),p=o([]),d=o({pageNum:1,pageSize:10}),{isLoading:g,dutyList:u,pages:c}=function(e){const o=l({isLoading:!1,dutyList:[],pages:{pageNum:1,pageSize:10,total:0}}),n=async()=>{o.isLoading=!0;const l=await a.dutyList(e.value);o.dutyList=l.data.records,o.pages.total=l.data.total,o.isLoading=!1};return s(e,(()=>{o.pages.pageNum=e.value.pageNum,o.pages.pageSize=e.value.pageSize,n()}),{deep:!0}),t(n),{...i(o),getDutyList:n}}(d),{gridOptions:f}=function(e){const a=o([{type:"checkbox",width:50},{type:"seq",width:50},{field:"level1Proportion",title:"一级职责清单及权重占比"},{field:"level2Proportion",title:"二级职责清单及权重占比"},{field:"level3Table",title:"三级职责清单",editRender:{name:"input"}},{field:"level3Request",title:"三级职责清单履职要求"},{field:"label",title:"职责标签",width:300,slots:{default:"label"}},{field:"basis",title:"履职依据",width:300,slots:{default:"basis"}},{field:"level",title:"责任等级"},{field:"function",title:"评价方法"}]),l=[{row:0,col:2,rowspan:10,colspan:0},{row:0,col:3,rowspan:10,colspan:0},{row:0,col:4,rowspan:2,colspan:0},{row:2,col:4,rowspan:3,colspan:0},{row:5,col:4,rowspan:3,colspan:0},{row:0,col:7,rowspan:10,colspan:0},{row:0,col:8,rowspan:4,colspan:0}];return{gridOptions:n((()=>({border:!0,columns:a.value,data:e.value,mergeCells:l,mouseConfig:{selected:!0},keyboardConfig:{isArrow:!0,isEnter:!0},editConfig:{trigger:"click",mode:"cell",showStatus:!0}})))}}(u),{page:v}=e(c,(e=>{d.value.pageNum=e.pageNum,d.value.pageSize=e.pageSize})),m=()=>{p.value=r.value.getMergeCells()};return{grid:r,isLoading:g,gridOptions:f,page:v,clickGetMerge:m,clickMerge:()=>{r.value.setMergeCells({row:5,col:8,rowspan:3,colspan:0})},clickSplit:()=>{m(),p.value.pop(),r.value.clearMergeCells(),r.value.setMergeCells(p.value)}}}}),N=(e=>(S("data-v-da5cccfd"),e=e(),_(),e))((()=>y("span",null,"关注责任等级一列",-1))),O={class:"origin"},q={class:"labels flex"},R={key:0,class:"flex column"},T={key:1,class:"flex column"},U={key:2,class:"flex column"},D={key:1};const E=z(M,[["render",function(e,a,l,s,t,i){const o=L,n=j,r=P,S=p("vxe-pager"),_=p("vxe-grid"),z=h;return d(),g(f,null,[u(o,{onClick:e.clickMerge},{default:c((()=>[v("合并")])),_:1},8,["onClick"]),u(o,{onClick:e.clickSplit},{default:c((()=>[v("拆分")])),_:1},8,["onClick"]),N,u(z,{spinning:e.isLoading},{default:c((()=>[u(_,m({ref:"grid"},e.gridOptions),{label:c((({row:e})=>[(d(!0),g(f,null,k(e.label,(e=>(d(),g("div",{key:e.id,class:"flex"},[y("div",O,w(e.origin),1),y("div",q,[e.label1?(d(),g("div",R,[(d(!0),g(f,null,k(e.label1,(e=>(d(),b(n,{key:e.id,color:"pink"},{default:c((()=>[v(w(e.str),1)])),_:2},1024)))),128))])):C("",!0),e.label2?(d(),g("div",T,[(d(!0),g(f,null,k(e.label2,(e=>(d(),b(n,{key:e.id,color:"pink"},{default:c((()=>[v(w(e.str),1)])),_:2},1024)))),128))])):C("",!0),e.label3?(d(),g("div",U,[(d(!0),g(f,null,k(e.label3,(e=>(d(),b(n,{key:e.id,color:"pink"},{default:c((()=>[v(w(e.str),1)])),_:2},1024)))),128))])):C("",!0)])])))),128))])),basis:c((({row:e})=>[(d(!0),g(f,null,k(e.basis,(e=>(d(),g("p",{key:e.id},[1===e.type||2===e.type?(d(),b(r,{key:0},{title:c((()=>[v(w(e.old),1)])),default:c((()=>[y("span",{class:x({blue:1===e.type,green:2===e.type})},w(e.str),3)])),_:2},1024)):(d(),g("span",D,w(e.str),1))])))),128))])),pager:c((()=>[u(S,{"current-page":e.page.currentPage,"onUpdate:currentPage":a[0]||(a[0]=a=>e.page.currentPage=a),"page-size":e.page.pageSize,"onUpdate:pageSize":a[1]||(a[1]=a=>e.page.pageSize=a),background:"",total:e.page.totalResult,layouts:e.page.layouts,onPageChange:e.page.pageChange},null,8,["current-page","page-size","total","layouts","onPageChange"])])),_:1},16)])),_:1},8,["spinning"])],64)}],["__scopeId","data-v-da5cccfd"]]);export{E as default};
